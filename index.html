<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte des Silos</title>
    <link rel="stylesheet" href="style.css">

    <!-- Firebase compat – zéro warning, ultra stable -->
    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-database-compat.js"></script>
</head>

<body>
    <h1>Carte des Silos</h1>

    <div id="carte-container">
        <img src="images/plan_silos.png" id="carte" alt="Plan des silos">
    </div>

    <!-- Modal -->
    <div id="siloModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Modifier le stock</h2>
                <span class="close">×</span>
            </div>
            <div class="modal-body">
                <h3 id="modal-silo-name">Silo</h3>
                <label>Marchandise :</label>
                <input type="text" id="modal-marchandise" placeholder="ex: Blé tendre">
                <label>Quantité (tonnes) :</label>
                <input type="number" id="modal-quantite" value="0" min="0">
                <label>Réservée :</label>
                <div class="reserve-controls">
                    <input type="number" id="modal-reservee" value="0" min="0">
                    <button class="btn-plus" onclick="changeReserve(1)">+</button>
                    <button class="btn-minus" onclick="changeReserve(-1)">−</button>
                </div>
                <div class="dispo-box">
                    Disponible : <strong id="modal-disponible">0</strong> tonnes
                </div>
                <label>Remarque :</label>
                <textarea id="modal-remarque" rows="3"></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-save">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Ton script.js à la fin -->
    <script src="script.js"></script>
</body>
</html>